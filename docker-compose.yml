version: '3.0'
services:
  patient-a:
    build:
      context: ./python-wot
      dockerfile: Dockerfile.pulse_device
    ports:
      - "9001:8888"
    volumes:
      - ./python-wot:/usr/src/app
    environment:
      - CONFIG_FILE=hospital_use_case/configA.json
  patient-b:
    build:
      context: ./python-wot
      dockerfile: Dockerfile.pulse_device
    ports:
      - "9002:8888"
    volumes:
      - ./python-wot:/usr/src/app
    environment:
      - CONFIG_FILE=hospital_use_case/configB.json
  patient-c:
    build:
      context: ./python-wot
      dockerfile: Dockerfile.pulse_device
    ports:
      - "9003:8888"
    volumes:
      - ./python-wot:/usr/src/app
    environment:
      - CONFIG_FILE=hospital_use_case/configC.json
  node-red:
    image: nodered/node-red
    ports:
    - 1880:1880
    - 1881:1881
    links:
    - patient-a
    - patient-b
    volumes:
    - ./node-red/.node-red:/data
